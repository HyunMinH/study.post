# 추상화와 유연성

## 추상화의 힘

1. 추상화의 계층만 따로 떼어 놓고 살펴보면 요구사항의 정책을 높은 수준에서 서술할 수 있음.

2. 추상화를 이용하면 설계가 더 유연해짐

> 디자인 패턴이나 프레임워크 모두 추상화를 잉요해 상위정책을 정의하는 객체지향의 메커니즘을 활용하고 있음.

## 유연한 설계

- 이번 예에서 영화에 할인 정책이 없을 때 해당하는 클래스를 추가

```java
public class NoneDiscountPolicy extends DiscountPolicy{
    @Override
    protected Money getDiscountAmount(Screening screening){
        return Money.ZERO;
    }
}
```

- 유연성이 필요한 곳에 추상화를 사용하라

## 코드 재사용

- 상속보다는 합성이 재사용 관점에서 좋다.

- 상속의 문제점

    1. 캡슐화를 위반 (부모 클래스의 내부 구조를 잘 알고 있어야 함)

    2. 설계가 유연하지 못함 (부모 클래스와 자식 클래스 사이의 관계를 컴파일 시점에 결정함 <- 더 강하게 결합돼 있기 때문)

- 합성은 위 두가지 문제를 해결

    1. 메시지릴 통해서만 재사용 -> 구현을 효과적으로 캡슐화

    2. 의존하는 인스턴스 교체하기 비교적 쉬움 -> 설계가 유연해짐

- 하지만 대부분의 설계에서는 상속과 합성을 함께 사용해야 극대화됨.